---

title: data


keywords: fastai
sidebar: home_sidebar

summary: "Read data from netdata rest api into a pandas dataframe."
description: "Read data from netdata rest api into a pandas dataframe."
nb_path: "00_data.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: 00_data.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="get_chart_list" class="doc_header"><code>get_chart_list</code><a href="https://github.com/netdata/netdata-pandas/tree/master/netdata_pandas/data.py#L22" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>get_chart_list</code>(<strong><code>host</code></strong>:<code>str</code>=<em><code>'127.0.0.1:19999'</code></em>, <strong><code>starts_with</code></strong>:<code>str</code>=<em><code>None</code></em>, <strong><code>protocol</code></strong>:<code>str</code>=<em><code>'http'</code></em>, <strong><code>verify</code></strong>:<code>Union</code>[<code>str</code>, <code>bool</code>]=<em><code>True</code></em>)</p>
</blockquote>
<p>Get list of all available charts on a <code>host</code>.</p>
<h5 id="Parameters:">Parameters:<a class="anchor-link" href="#Parameters:"> </a></h5><ul>
<li><strong>host</strong> <code>str</code> The host we want to get a list of available charts from.</li>
<li><strong>starts_with</strong> <code>str</code> A string to filter the list of charts returns to just those that start with <code>starts_with</code>.</li>
<li><strong>protocol</strong> <code>str</code> 'http' or 'https'.</li>
<li><strong>verify</strong> <code>Union[str, bool]</code> <code>verify</code> parameter to be set to <code>requests</code> for SSL cert verification.</li>
</ul>
<h5 id="Returns:">Returns:<a class="anchor-link" href="#Returns:"> </a></h5><ul>
<li><strong>chart_list</strong> <code>list</code> A list of availalbe charts.</li>
</ul>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="get_chart" class="doc_header"><code>get_chart</code><a href="https://github.com/netdata/netdata-pandas/tree/master/netdata_pandas/data.py#L48" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>get_chart</code>(<strong><code>api_call</code></strong>:<code>str</code>, <strong><code>data</code></strong>:<code>list</code>, <strong><code>col_sep</code></strong>:<code>str</code>=<em><code>'|'</code></em>, <strong><code>numeric_only</code></strong>:<code>bool</code>=<em><code>True</code></em>, <strong><code>float_size</code></strong>:<code>str</code>=<em><code>'float64'</code></em>, <strong><code>host_prefix</code></strong>:<code>bool</code>=<em><code>False</code></em>, <strong><code>host_sep</code></strong>:<code>str</code>=<em><code>':'</code></em>)</p>
</blockquote>
<p>Get data for an individual chart.</p>
<h5 id="Parameters:">Parameters:<a class="anchor-link" href="#Parameters:"> </a></h5><ul>
<li><strong>api_call</strong> <code>tuple</code> A tuple of (<code>url</code>,<code>chart</code>) for the url to pull data from and chart it represents.</li>
<li><strong>data</strong> <code>list</code> A list for dataframes for each chart to be appended to.</li>
<li><strong>col_sep</strong> <code>str</code> A character for separating chart and dimension in column names of dataframe.</li>
<li><strong>numeric_only</strong> <code>bool</code> Set to true if you want to filter out any non numeric data.</li>
<li><strong>float_size</strong> <code>str</code> float size to use if would like to save some memory, eg can use 'float32' or 'float16'.</li>
<li><strong>host_prefix</strong> <code>bool</code> True to prefix each colname with the corresponding host.</li>
<li><strong>host_sep</strong> <code>str</code> A character for separating host and chart and dimensions in column names of dataframe.</li>
</ul>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="get_charts" class="doc_header"><code>get_charts</code><a href="https://github.com/netdata/netdata-pandas/tree/master/netdata_pandas/data.py#L84" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>get_charts</code>(<strong><code>api_calls</code></strong>:<code>list</code>, <strong><code>col_sep</code></strong>:<code>str</code>=<em><code>'|'</code></em>, <strong><code>timeout</code></strong>:<code>int</code>=<em><code>60</code></em>, <strong><code>numeric_only</code></strong>:<code>bool</code>=<em><code>True</code></em>, <strong><code>float_size</code></strong>:<code>str</code>=<em><code>'float64'</code></em>, <strong><code>host_prefix</code></strong>:<code>bool</code>=<em><code>False</code></em>, <strong><code>host_sep</code></strong>:<code>str</code>=<em><code>':'</code></em>)</p>
</blockquote>
<p>Create a nursey to make seperate async calls to get each chart.</p>
<h5 id="Parameters:">Parameters:<a class="anchor-link" href="#Parameters:"> </a></h5><ul>
<li><strong>api_calls</strong> <code>list</code> A list of tuple's of [(<code>url</code>,<code>chart</code>),...] of api calls that need to be made.</li>
<li><strong>col_sep</strong> <code>str</code> A character for separating chart and dimension in column names of dataframe.</li>
<li><strong>timeout</strong> <code>int</code> The number of seconds for trio to <a href="https://trio.readthedocs.io/en/stable/reference-core.html#trio.move_on_after">move_on_after</a>.</li>
<li><strong>numeric_only</strong> <code>bool</code> Set to true if you want to filter out any non numeric data.</li>
<li><strong>float_size</strong> <code>str</code> float size to use if would like to save some memory, eg can use 'float32' or 'float16'.</li>
<li><strong>host_prefix</strong> <code>bool</code> True to prefix each colname with the corresponding host.</li>
<li><strong>host_sep</strong> <code>str</code> A character for separating host and chart and dimensions in column names of dataframe.</li>
</ul>
<h5 id="Returns:">Returns:<a class="anchor-link" href="#Returns:"> </a></h5><ul>
<li><strong>df</strong> <code>pd.DataFrame</code> A pandas dataframe with all chart data outer joined based on time index.</li>
</ul>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="get_data" class="doc_header"><code>get_data</code><a href="https://github.com/netdata/netdata-pandas/tree/master/netdata_pandas/data.py#L118" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>get_data</code>(<strong><code>hosts</code></strong>:<code>list</code>=<em><code>['london.my-netdata.io']</code></em>, <strong><code>charts</code></strong>:<code>list</code>=<em><code>['system.cpu']</code></em>, <strong><code>after</code></strong>:<code>int</code>=<em><code>-60</code></em>, <strong><code>before</code></strong>:<code>int</code>=<em><code>0</code></em>, <strong><code>points</code></strong>:<code>int</code>=<em><code>0</code></em>, <strong><code>col_sep</code></strong>:<code>str</code>=<em><code>'|'</code></em>, <strong><code>numeric_only</code></strong>:<code>bool</code>=<em><code>True</code></em>, <strong><code>ffill</code></strong>:<code>bool</code>=<em><code>True</code></em>, <strong><code>diff</code></strong>:<code>bool</code>=<em><code>False</code></em>, <strong><code>timeout</code></strong>:<code>int</code>=<em><code>60</code></em>, <strong><code>nunique_thold</code></strong>=<em><code>None</code></em>, <strong><code>std_thold</code></strong>:<code>float</code>=<em><code>None</code></em>, <strong><code>index_as_datetime</code></strong>:<code>bool</code>=<em><code>False</code></em>, <strong><code>freq</code></strong>:<code>str</code>=<em><code>'infer'</code></em>, <strong><code>group</code></strong>:<code>str</code>=<em><code>'average'</code></em>, <strong><code>sort_cols</code></strong>:<code>bool</code>=<em><code>True</code></em>, <strong><code>user</code></strong>:<code>str</code>=<em><code>None</code></em>, <strong><code>pwd</code></strong>:<code>str</code>=<em><code>None</code></em>, <strong><code>protocol</code></strong>:<code>str</code>=<em><code>'http'</code></em>, <strong><code>sort_rows</code></strong>:<code>bool</code>=<em><code>True</code></em>, <strong><code>float_size</code></strong>:<code>str</code>=<em><code>'float64'</code></em>, <strong><code>host_charts_dict</code></strong>:<code>dict</code>=<em><code>None</code></em>, <strong><code>host_prefix</code></strong>:<code>bool</code>=<em><code>False</code></em>, <strong><code>host_sep</code></strong>:<code>str</code>=<em><code>':'</code></em>, <strong><code>charts_regex</code></strong>:<code>str</code>=<em><code>None</code></em>, <strong><code>verify</code></strong>:<code>Union</code>[<code>str</code>, <code>bool</code>]=<em><code>True</code></em>)</p>
</blockquote>
<p>Define api calls to make and any post processing to be done.</p>
<h5 id="Parameters:">Parameters:<a class="anchor-link" href="#Parameters:"> </a></h5><ul>
<li><strong>hosts</strong> <code>list</code> A list of hosts to pull data from.</li>
<li><strong>charts</strong> <code>list</code> A list of charts to pull data for.</li>
<li><strong>after</strong> <code>int</code> The timestamp or relative integer from which to pull data after.</li>
<li><strong>before</strong> <code>int</code> The timestamp or relative integer from which to pull data before.</li>
<li><strong>points</strong> <code>int</code> The <code>points</code> parameter to pass to the api call if need to aggregate data in some way.</li>
<li><strong>col_sep</strong> <code>str</code> A character for separating chart and dimension in column names of dataframe.</li>
<li><strong>numeric_only</strong> <code>bool</code> Set to true if you want to filter out any non numeric data.</li>
<li><strong>ffill</strong> <code>bool</code> Set to true if you want to forward fill any null or missing values.</li>
<li><strong>diff</strong> <code>bool</code> Set to true if you want to get the difference of metrics as opposed to their raw value.</li>
<li><strong>timeout</strong> <code>int</code> The number of seconds for trio to <a href="https://trio.readthedocs.io/en/stable/reference-core.html#trio.move_on_after">move_on_after</a>.</li>
<li><strong>nunique_thold</strong> [<code>float</code>,<code>int</code>] If defined calls function to filter cols with low number of unique values.</li>
<li><strong>std_thold</strong> <code>float</code> If defined calls function to filter cols with low standard deviation.</li>
<li><strong>index_as_datetime</strong> <code>bool</code> If true, set the index to be a pandas datetime.</li>
<li><strong>freq</strong> <code>str</code> Freq to be passed to pandas datetime index.</li>
<li><strong>group</strong> <code>str</code> The grouping function to use in the netdata api call.</li>
<li><strong>sort_cols</strong> <code>bool</code> True to sort columns by name.</li>
<li><strong>user</strong> <code>str</code> A username to use if netdata is password protected.</li>
<li><strong>pwd</strong> <code>str</code> A password to use if netdata is password protected.</li>
<li><strong>protocol</strong> <code>str</code> 'http' or 'https'.</li>
<li><strong>sort_rows</strong> <code>bool</code> True to sort rows by index.</li>
<li><strong>float_size</strong> <code>str</code> float size to use if would like to save some memory, eg can use 'float32' or 'float16'.</li>
<li><strong>host_charts_dict</strong> <code>dict</code> dictionary of hosts to pull for where each value is list of relevant charts to pull from that host.</li>
<li><strong>host_prefix</strong> <code>bool</code> True to prefix each colname with the corresponding host.</li>
<li><strong>host_sep</strong> <code>str</code> A character for separating host and chart and dimensions in column names of dataframe.</li>
<li><strong>charts_regex</strong> <code>str</code> A regex expression for charts you want data for.</li>
<li><strong>verify</strong> <code>Union[str, bool]</code> <code>verify</code> parameter to be set to <code>requests</code> for SSL cert verification.</li>
</ul>
<h5 id="Returns:">Returns:<a class="anchor-link" href="#Returns:"> </a></h5><ul>
<li><strong>df</strong> <code>pd.DataFrame</code> A pandas dataframe with all chart data outer joined based on time index and any post processing done.</li>
</ul>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="get_alarm_log" class="doc_header"><code>get_alarm_log</code><a href="https://github.com/netdata/netdata-pandas/tree/master/netdata_pandas/data.py#L211" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>get_alarm_log</code>(<strong><code>host</code></strong>:<code>str</code>=<em><code>'127.0.0.1:19999'</code></em>, <strong><code>datetimes</code></strong>:<code>bool</code>=<em><code>True</code></em>, <strong><code>user</code></strong>:<code>str</code>=<em><code>None</code></em>, <strong><code>pwd</code></strong>:<code>str</code>=<em><code>None</code></em>, <strong><code>protocol</code></strong>:<code>str</code>=<em><code>'http'</code></em>, <strong><code>include_children</code></strong>:<code>bool</code>=<em><code>False</code></em>)</p>
</blockquote>
<p>Get alarm log from <code>host</code>.</p>
<h5 id="Parameters:">Parameters:<a class="anchor-link" href="#Parameters:"> </a></h5><ul>
<li><strong>host</strong> <code>str</code> The host we want to get the alarm log from.</li>
<li><strong>user</strong> <code>str</code> A username to use if netdata is password protected.</li>
<li><strong>pwd</strong> <code>str</code> A password to use if netdata is password protected.</li>
<li><strong>protocol</strong> <code>str</code> 'http' or 'https'.</li>
<li><strong>include_children</strong> <code>bool</code> 'True' to include alarm log for all children streamed to host.</li>
</ul>
<h5 id="Returns:">Returns:<a class="anchor-link" href="#Returns:"> </a></h5><ul>
<li><strong>df</strong> <code>pd.DataFrame</code> A df of the alarm_log.</li>
</ul>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="get_allmetrics" class="doc_header"><code>get_allmetrics</code><a href="https://github.com/netdata/netdata-pandas/tree/master/netdata_pandas/data.py#L261" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>get_allmetrics</code>(<strong><code>host</code></strong>=<em><code>'london.my-netdata.io'</code></em>, <strong><code>charts</code></strong>:<code>list</code>=<em><code>None</code></em>, <strong><code>wide</code></strong>:<code>bool</code>=<em><code>False</code></em>, <strong><code>col_sep</code></strong>:<code>str</code>=<em><code>'|'</code></em>, <strong><code>sort_cols</code></strong>:<code>bool</code>=<em><code>True</code></em>, <strong><code>user</code></strong>:<code>str</code>=<em><code>None</code></em>, <strong><code>pwd</code></strong>:<code>str</code>=<em><code>None</code></em>, <strong><code>protocol</code></strong>:<code>str</code>=<em><code>'http'</code></em>, <strong><code>numeric_only</code></strong>:<code>bool</code>=<em><code>True</code></em>, <strong><code>float_size</code></strong>:<code>str</code>=<em><code>'float64'</code></em>, <strong><code>host_charts_dict</code></strong>:<code>dict</code>=<em><code>None</code></em>, <strong><code>host_prefix</code></strong>:<code>bool</code>=<em><code>False</code></em>, <strong><code>host_sep</code></strong>:<code>str</code>=<em><code>':'</code></em>, <strong><code>verify</code></strong>:<code>Union</code>[<code>str</code>, <code>bool</code>]=<em><code>True</code></em>)</p>
</blockquote>
<p>Get allmetrics into a df.</p>
<h5 id="Parameters:">Parameters:<a class="anchor-link" href="#Parameters:"> </a></h5><ul>
<li><strong>host</strong> <code>str</code> The host we want to get the alarm log from.</li>
<li><strong>charts</strong> <code>list</code> A list of charts to pull data for.</li>
<li><strong>wide</strong> <code>bool</code> True if you want to return the data in wide format as opposed to long.</li>
<li><strong>user</strong> <code>str</code> A username to use if netdata is password protected.</li>
<li><strong>pwd</strong> <code>str</code> A password to use if netdata is password protected.</li>
<li><strong>protocol</strong> <code>str</code> 'http' or 'https'.</li>
<li><strong>numeric_only</strong> <code>bool</code> Set to true if you want to filter out any non numeric data.</li>
<li><strong>float_size</strong> <code>str</code> float size to use if would like to save some memory, eg can use 'float32' or 'float16'.</li>
<li><strong>verify</strong> <code>Union[str, bool]</code> <code>verify</code> parameter to be set to <code>requests</code> for SSL cert verification.</li>
</ul>
<h5 id="Returns:">Returns:<a class="anchor-link" href="#Returns:"> </a></h5><ul>
<li><strong>df</strong> <code>pd.DataFrame</code> A df of the latest data from allmetrics.</li>
</ul>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="get_allmetrics_async" class="doc_header"><code>get_allmetrics_async</code><a href="https://github.com/netdata/netdata-pandas/tree/master/netdata_pandas/data.py#L413" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>get_allmetrics_async</code>(<strong><code>host_charts_dict</code></strong>:<code>dict</code>=<em><code>None</code></em>, <strong><code>col_sep</code></strong>:<code>str</code>=<em><code>'|'</code></em>, <strong><code>numeric_only</code></strong>:<code>bool</code>=<em><code>True</code></em>, <strong><code>timeout</code></strong>:<code>int</code>=<em><code>60</code></em>, <strong><code>index_as_datetime</code></strong>:<code>bool</code>=<em><code>False</code></em>, <strong><code>freq</code></strong>:<code>str</code>=<em><code>'infer'</code></em>, <strong><code>sort_cols</code></strong>:<code>bool</code>=<em><code>True</code></em>, <strong><code>user</code></strong>:<code>str</code>=<em><code>None</code></em>, <strong><code>pwd</code></strong>:<code>str</code>=<em><code>None</code></em>, <strong><code>protocol</code></strong>:<code>str</code>=<em><code>'http'</code></em>, <strong><code>float_size</code></strong>:<code>str</code>=<em><code>'float64'</code></em>, <strong><code>host_prefix</code></strong>:<code>bool</code>=<em><code>False</code></em>, <strong><code>host_sep</code></strong>:<code>str</code>=<em><code>':'</code></em>, <strong><code>wide</code></strong>:<code>bool</code>=<em><code>False</code></em>)</p>
</blockquote>
<p>Define api calls to make and any post processing to be done.</p>
<h5 id="Parameters:">Parameters:<a class="anchor-link" href="#Parameters:"> </a></h5><ul>
<li><strong>col_sep</strong> <code>str</code> A character for separating chart and dimension in column names of dataframe.</li>
<li><strong>numeric_only</strong> <code>bool</code> Set to true if you want to filter out any non numeric data.</li>
<li><strong>timeout</strong> <code>int</code> The number of seconds for trio to <a href="https://trio.readthedocs.io/en/stable/reference-core.html#trio.move_on_after">move_on_after</a>.</li>
<li><strong>index_as_datetime</strong> <code>bool</code> If true, set the index to be a pandas datetime.</li>
<li><strong>freq</strong> <code>str</code> Freq to be passed to pandas datetime index.</li>
<li><strong>sort_cols</strong> <code>bool</code> True to sort columns by name.</li>
<li><strong>user</strong> <code>str</code> A username to use if netdata is password protected.</li>
<li><strong>pwd</strong> <code>str</code> A password to use if netdata is password protected.</li>
<li><strong>protocol</strong> <code>str</code> 'http' or 'https'.</li>
<li><strong>float_size</strong> <code>str</code> float size to use if would like to save some memory, eg can use 'float32' or 'float16'.</li>
<li><strong>host_charts_dict</strong> <code>dict</code> dictionary of hosts to pull for where each value is list of relevant charts to pull from that host.</li>
<li><strong>host_prefix</strong> <code>bool</code> True to prefix each colname with the corresponding host.</li>
<li><strong>host_sep</strong> <code>str</code> A character for separating host and chart and dimensions in column names of dataframe.</li>
</ul>
<h5 id="Returns:">Returns:<a class="anchor-link" href="#Returns:"> </a></h5><ul>
<li><strong>df</strong> <code>pd.DataFrame</code> A pandas dataframe with all chart data outer joined based on time index and any post processing done.</li>
</ul>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

</div>
 

